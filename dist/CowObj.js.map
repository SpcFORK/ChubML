{"version":3,"sources":["../src/CowObj.ts","../src/eobj.ts"],"sourcesContent":["import eobj from './eobj';\n\nclass CowObj {\n  SJSON() {\n    return JSON.stringify(this);\n  }\n\n  toJSON() {\n    return {\n      ...this,\n      __methods: this.extractMethods(),\n    };\n  }\n\n  private extractMethods() {\n    const methods: Record<string, string> = {};\n    for (const key in this)\n      if (typeof this[key] === 'function')\n        methods[key] = String(this[key]);\n    return methods;\n  }\n}\n\nexport default eobj(CowObj).default;\n\nexport type CowObject<Object = {}> = Object & Partial<{\n  __methods: Record<string, string>;\n}>","function eobj<C extends Record<any, any> & unknown>(obj: C, names: string[] = []) {\n  if (!obj) throw new Error(`No object provided to eobj.`);\n\n  if (obj?.name)\n    names.push(obj.name);\n\n  names.push('default');\n\n  let eo: Record<any, C> = {}\n  for (const name of names) {\n    eo[name] = obj;\n    try { (window as any)[name] = obj } catch { }\n  }\n\n  try { module.exports = eo } catch { }\n\n  return eo\n}\n\n// Bootstarp !\nexport default eobj(eobj).default;"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA,SAAS,KAA2C,KAAQ,QAAkB,CAAC,GAAG;AAChF,MAAI,CAAC,IAAK,OAAM,IAAI,MAAM,6BAA6B;AAEvD,MAAI,KAAK;AACP,UAAM,KAAK,IAAI,IAAI;AAErB,QAAM,KAAK,SAAS;AAEpB,MAAI,KAAqB,CAAC;AAC1B,aAAW,QAAQ,OAAO;AACxB,OAAG,IAAI,IAAI;AACX,QAAI;AAAE,MAAC,OAAe,IAAI,IAAI;AAAA,IAAI,QAAQ;AAAA,IAAE;AAAA,EAC9C;AAEA,MAAI;AAAE,WAAO,UAAU;AAAA,EAAG,QAAQ;AAAA,EAAE;AAEpC,SAAO;AACT;AAGA,IAAO,eAAQ,KAAK,IAAI,EAAE;;;ADlB1B,IAAM,SAAN,MAAa;AAAA,EACX,QAAQ;AACN,WAAO,KAAK,UAAU,IAAI;AAAA,EAC5B;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MACL,GAAG;AAAA,MACH,WAAW,KAAK,eAAe;AAAA,IACjC;AAAA,EACF;AAAA,EAEQ,iBAAiB;AACvB,UAAM,UAAkC,CAAC;AACzC,eAAW,OAAO;AAChB,UAAI,OAAO,KAAK,GAAG,MAAM;AACvB,gBAAQ,GAAG,IAAI,OAAO,KAAK,GAAG,CAAC;AACnC,WAAO;AAAA,EACT;AACF;AAEA,IAAO,iBAAQ,aAAK,MAAM,EAAE;","names":[]}